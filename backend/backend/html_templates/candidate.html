<!DOCTYPE html>
<html>

<head>
    <title>Test WebSocket</title>
</head>

<body>
    <h1>WebSocket Test</h1>
    <button onclick="startWebSocket()">Start WebSocket</button>
    <button onclick="stopWebSocket()">Stop WebSocket</button>
    <script>
        var socket = null;
        function startWebSocket() {
            socket = new WebSocket(`ws://${location.host}{{ websocket_endpoint }}`);
            socket.binaryType = 'arraybuffer'; // set binary type to arraybuffer
            socket.onmessage = function (event) {
                console.log("Received data", event.data);
                // handle received audio data here
            }
        }
        function stopWebSocket() {
            if (socket) {
                socket.close();
                socket = null;
            }
        }
    </script>
</body>

</html>